<h2>printf関数 - 文字列をフォーマットして出力する(書き始め)</h2>

printf関数を使うと、文字列をフォーマットして出力できます。<a href="/blog/20210418083246.html">stdio.hヘッダ</a>をインクルードすると利用できます。

<pre>
#include <stdio.h>
int printf(const char * restrict format, ...);
</pre>

printf関数のサンプルです。第一引数は、文字列を意味する「%s」や整数を意味する「%d」などフォーマット指定子を含む文字列です。第二引数以降は、可変長引数となっており、フォーマット指定子に対応する値を渡します。

<pre>
#include <stdio.h>
#include <stdint.h>

int main(void) {
  const char* name = "Yuki Kimoto";
  int32_t age = 40;
  
  printf("My name is %s. Age is %d.\n", name, age);
}
</pre>

出力結果です。

<pre>
My name is Yuki Kimoto. Age is 40.
</pre>

<h3>整数型のフォーマット(書き始め)</h3>

<h4>int32_t(符号あり32bit整数型)のフォーマット</h4>

<a href="/blog/20201130082751.html">int32_t型</a>(32bit符号あり整数型)をフォーマットするには「%d」を使用します。

<pre>
%d
</pre>

「%d」は、正確にいうと、<a href="/blog/20210130143859.html">int型</a>のフォーマットです。

ですので、もしint型の定義が16bitの処理系ですと、「%d」というフォーマットでは、<a href="/blog/20201130082751.html">int32_t</a>の値は、正しく出力されません。けれども、世の中のすべての処理系が、intを32bit以上で表現していると仮定すると、int32_t型の整数を「%d」でフォーマットするコードは正しくなります。

ためしに、int32_t型の最小値を、「%d」に渡してみましょう。あなたの環境では、いかがでしょうか?

<pre>
#include <stdio.h>
#include <stdint.h>

int main(void) {
  int32_t num = INT32_MIN;
  
  printf("%d\n", num);
}
</pre>

出力結果です。

<pre>
-2147483648
</pre>

サイズが保証された整数型を、完全に正しくフォーマットする方法は、この後に解説します。こちらを使う方が正確ですが、記憶上で覚えておけないという、難点があります。

<h4>int16_t(符号あり16bit整数型)のフォーマット</h4>

<a href="/blog/20201126090559.html">int16_t</a>(16bit符号あり整数型)をフォーマットするには「%d」を使用します。

<pre>
%d
</pre>

<h4>int8_t(符号あり8bit整数型)のフォーマット</h4>

<a href="/blog/20201117090747.html">int8_t</a>(8bit符号あり整数型)をフォーマットするには「%d」を使用します。

<pre>
%d
</pre>

<h4>int64_t(符号あり64bit整数型)のフォーマット</h4>

<a href="/blog/20201127082751.html">int64_t</a>(64bit符号あり整数型)をフォーマットするには「%lld」を使用します。

<pre>
%lld
</pre>

「%ld」ではないので、注意してください。「%ld」はWindowsでは、32bit符号あり整数として定義されているんです。Windows,Mac,Linux,UNIXなどの非常に広い環境で、int64_t型を正しくフォーマットするには「%lld」を使用する必要があります。

「%lld」は、正確にいうと、<a href="/blog/20210130143859.html">long long型</a>のフォーマットです。long long型は、まぁ、少なくとも非常に広い環境で64bit整数として定義されているよね、という感じですね。

サイズが保証された整数型を、完全に正しくフォーマットする方法は、この後に解説します。こちらを使う方が正確ですが、記憶上で覚えておけないという、難点があります。

<h4>uint32_t(符号なし32bit整数型)のフォーマット</h4>

<a href="/blog/20201111150850.html">uint32_t</a>(符号なし32bit整数型)のフォーマットには「%u」を使います。理由はint32_t型のフォーマットで解説したものと同じです。

<h4>uint8_t(符号なし8bit整数型)のフォーマット</h4>

<a href="/blog/20201122084622.html">uint8_t</a>(符号なし8bit整数型)のフォーマットには「%u」を使います。

<h4>uint16_t(符号なし16bit整数型)のフォーマット</h4>

<a href="/blog/20201120084622.html">uint16_t</a>(符号なし16bit整数型)のフォーマットには「%u」を使います。

<h4>uint64_t(符号なし64bit整数型)のフォーマット</h4>

<a href="/blog/20201109150850.html">uint64_t</a>(符号なし64bit整数型)のフォーマットには「%llu」を使います。理由はint64_t型のフォーマットで解説したものと同じです。
