<h2>コマンドライン引数</h2>

C言語でコマンドライン引数を受け取る方法についての解説です。コマンドライン引数は、<a href="/blog/20210314140759.html">main関数</a>の引数として受け取ることができます。

<pre>
int main(int argc, char *argv[]) {

}
</pre>

第一引数は、コマンドライン引数の個数です。int型です。

第二引数は「char*」の<a href="/blog/20210129143859.html">配列</a>型です。コマンドライン引数が文字列の配列で渡されます。

C言語では、実行したプログラム名も、コマンドライン引数の一部として入ってくることに注意しましょう。

たとえば

<pre>
./test apple orange banana
</pre>

で実行されるとargvは以下のようになります。

<pre>
"./test", "apple", "orange", "banana"
</pre>

argcとargvという名前は何でもよいですが、C言語仕様で記述されている名前で紹介しておきます。

<h3>コマンドライン引数のサンプル</h3>

コマンドライン引数を受け取って、内容をそのまま出力しています。

<pre>
// test.c
#include <stdio.h>
#include <stdint.h>

int main(int argc, char *argv[]) {
  for (int32_t i = 0; i < argc; i++) {
    printf("%s\n", argv[i]);
  }
}
</pre>

コンパイルして次のように実行してみましょう。

<pre>
gcc -o test test.c && ./test apple orange banana
</pre>

出力結果は以下のようになります。

<pre>
./test
apple
orange
banana
</pre>
