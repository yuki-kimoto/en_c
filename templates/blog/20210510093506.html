<div class = "bread">
  <ul itemscope itemtype = "http://schema.org/BreadcrumbList">
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/">
        <span itemprop = "name"> C language </ span>
      </a>
      <meta itemprop = "position" content = "1" />
    </ li>
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/library.html">
        <span itemprop = "name"> C standard library </ span>
      </a>
      <meta itemprop = "position" content = "2" />
    </ li>
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/library/stdio.html">
        <span itemprop = "name"> stdio.h </ span>
      </a>
      <meta itemprop = "position" content = "3" />
    </ li>
    <li>
      here
    </ li>
  </ ul>
</ div>

<h2> fprintf function --outputs the formatted string to the output destination </ h2>

The <b> fprintf function </ b> can output a formatted character string by specifying the output destination. The <a href="/blog/20210419083246.html"> printf function </a> outputs to the standard output, but the fprintf function can specify the output destination. You can use it by reading the <a href="/blog/20210418083246.html"> stdio.h </a> header.

<pre>
#include <stdio.h>
int fprintf (FILE * fp, const char * format, ...);
</ pre>

<h3> Output to standard output </ h3>

Let's use the fprintf function to output to standard output. Do the same as the printf function. <a href="/blog/20210512083754.html"> stdout </a> is a pointer to a FILE structure that means a standard output stream.

<pre>
#include <stdio.h>

int main (void) {
  const char * message = "Hello";
  fprintf (stdout, "% s \ n", message);
}
</ pre>

This is the output result.

<pre>
Hello
</ pre>

<h3> Output to standard error output </ h3>

Let's use the fprintf function to output to standard error output. <a href="/blog/20210511083754.html"> stderr </a> is a pointer to the FILE structure, which means standard error stream.

<pre>
#include <stdio.h>

int main (void) {
  const char * message = "Hello";
  fprintf (stderr, "% s \ n", message);
}
</ pre>

This is the output result. It is output to the error output.

<pre>
Hello
</ pre>

<h3> Output to file </ h3>

Let's print it to a file using the fprintf function. Let's open the file with the fopen function and write to the file. The opened file is closed with the fclose function.

<pre>
#include <stdio.h>
#include <stdlib.h>

int main (void) {
  
  // Open the file for writing
  const char * out_file = "output.txt";
  FILE * out_fp = fopen (out_file, "w");
  if (out_fp == NULL) {
    fprintf (stderr, "Can't open file% s \ n", out_file);
    exit (1);
  }
  
  // Write to a file with the fprintf function
  const char * message = "Hello";
  fprintf (out_fp, "% s \ n", message);
  
  // Close the file
  fclose (out_fp);
}
</ pre>

Let's open output.txt. The following contents are output.

<pre>
Hello
</ pre>